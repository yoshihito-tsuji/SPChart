# SPChart - S-P表分析ツール

**Student-Problem表によるテスト結果の視覚的・統計的分析**

[![Version](https://img.shields.io/badge/version-0.1.0--dev-blue)]()
[![License](https://img.shields.io/badge/license-MIT-green)]()

## 概要

SPChartは、佐藤隆博（1969年開発）によるS-P表理論に基づく教育測定ツールです。テスト結果の二値データ（正答/誤答）を視覚的に分析し、生徒の学習課題や問題の適切性を直感的に把握できます。

### 主な機能

- **S-P表の自動生成**: 正答/誤答データからS曲線・P曲線を描画
- **注意係数の算出**: 生徒別（CS）・問題別（CP）の注意係数を計算
- **差異係数の算出**: テスト全体の品質指標を提供
- **要注意フラグ**: CS/CP ≥ 0.5 の自動ハイライト
- **データ入出力**: CSV読込、PDF/画像エクスポート

### 対象ユーザー

- 小中高の教員
- 教育委員会の指導主事
- 教育研究者

## 技術スタック

- **フロントエンド**: React + TypeScript + Vite
- **可視化**: ECharts / D3.js（検討中）
- **スタイリング**: Tailwind CSS
- **配布形式**: Webアプリ（PWA対応予定）

## 開発体制

本プロジェクトは**三者間協働開発モデル**を採用しています。

> **重要**: すべての開発作業は、三者間協働開発モデルに沿って進めます。役割・責務を厳守し、意思決定の優先順位（1. Yoshihitoさんの意図・要望、2. Codexのアーキテクチャ方針、3. 技術的ベストプラクティス）に従ってください。具体的な運用ルールや連絡手順は `docs/team_ops/` を参照し、その内容に必ず準拠してください。

| 役割 | 担当 | 責務 |
|------|------|------|
| プロジェクトオーナー | Yoshihitoさん | 最終意思決定、企画・要件定義 |
| アーキテクト | Codex | 設計・技術方針策定 |
| 実装エンジニア | Claude Code | コード実装・品質管理 |

### コミュニケーションルール

AI同士（Codex ↔ Claude Code）の通信や、AIからYoshihitoさんへの報告には、必ず**From/To形式**を使用すること：

```
From: [発信者]
To: [宛先]

[本文]
```

例：

- `From: Claude Code` / `To: Codex` - 実装報告、設計相談
- `From: Claude Code` / `To: Yoshihitoさん` - 進捗報告、確認依頼
- `From: Codex` / `To: Claude Code` - 設計指示、レビュー結果

詳細は [docs/team_ops/](docs/team_ops/) を参照。

## プロジェクト構成

```
SPChart/
├── README.md              # プロジェクト概要（本ファイル）
├── CLAUDE.md              # Claude Code向け指示書
├── Codex.md               # Codex向け指示書
├── DECISIONS.md           # 確定事項一覧
├── docs/                  # ドキュメント
│   ├── team_ops/          # チーム運用ドキュメント
│   ├── engineering/       # 技術ドキュメント
│   ├── product/           # プロダクト仕様
│   └── research/          # S-P表理論の調査資料
├── LOG/                   # 日次開発ログ
├── frontend/              # Reactアプリケーション（予定）
└── .claude/               # Claude Code設定
```

## S-P表理論について

### 基本概念

S-P表は、N人の生徒（Student）× n個の問題（Problem）の二値行列を基盤とします。

- **縦軸（生徒）**: 合計得点の高い順に上から下へ配置
- **横軸（問題）**: 正答者数の多い順（易しい順）に左から右へ配置
- **S曲線**: 各生徒の正答数に基づく累積分布
- **P曲線**: 各問題の正答者数に基づく累積分布

### 注意係数（Caution Index）

- **CS（生徒）**: 期待される回答パターンからの逸脱度
- **CP（問題）**: 問題の識別力の異常を示す指標
- **判定基準**: 0.5以上で要注意、0.75以上で特に注意

### 参考文献

- 佐藤隆博 (1975)『S-P表の作成と解釈―授業分析・学習診断のために―』明治図書出版
- Tatsuoka, K.K. (1984) "Caution indices based on item response theory" Psychometrika
- 文部科学省 全国学力・学習状況調査 S-P表活用ガイド

## 開発状況

### Phase 1-6 実装完了

- [x] Phase 1: コア機能実装（S-P表分析、曲線描画、注意係数計算）
- [x] Phase 2: 統計・品質強化（単体テスト、パフォーマンス計測）
- [x] Phase 3: エクスポート機能（PNG/PDF/CSV/JSON、印刷対応）
- [x] Phase 4: UX/入力拡張（手入力フォーム、ローディング/エラー状態）
- [x] Phase 5: 配布・信頼性（PWA対応、エラーハンドリング、ヘルプ）
- [x] Phase 6: 互換性・多言語（文科省形式CSV、日英UI切替）

### テスト状況

85テスト全通過

## ライセンス

MIT License

## 開発元

公立はこだて未来大学 辻研究室

---

*本ツールは、日本発のテスト理論であるS-P表を、より多くの教育現場で活用できるようにすることを目指しています。*
